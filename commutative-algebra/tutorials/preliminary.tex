\chapter{预备知识}

本章涉及的环均是带单位的交换环

\section{素理想的交与并}

\subsection{不交乘性子集的素理想}

环 \( A \) 的 \emph{乘性子集} 是一个子集 \( S \) 满足如下性质
\[
  1 \in S,\quad a, b \in S \implies ab \in S.
\]

\begin{proposition}
  \label{proposition-prime-not-intersect-multiplicative-set}
  假设 \( S \) 是一个环 \( A \) 的子集, \( \mathfrak{a} \) 是 \( A \) 的不交于
  \( S \) 一个理想.  \( A \) 中包含 \( \mathfrak{a} \) 但不交于 \( S \)
  的理想集族 \( \Sigma \) 有一个极大元, 如果 \( S \) 是乘性子集,
  那么每个这样的极大元都是素的.
\end{proposition}
\begin{proof}
  每个上升链 \( \mathfrak{a}_1 \subseteq \mathfrak{a}_2 \subseteq \cdots \)
  都有上界 \( \sum \mathfrak{a}_i \), 因此 极大元的存在性可以由
  \href{https://en.wikipedia.org/wiki/Zorn%27s_lemma}{Zorn 引理} 得到. 现假设 \(
    S \) 是 \( A \) 的乘性子集, \( \mathfrak{c} \) 为 \(
  \Sigma \) 中的极大元. 如果 \( b b' \in \mathfrak{c} \), 且 \( b, b' \notin
  \mathfrak{c} \), 那么 \( \mathfrak{c} + (b) \) 和 \( \mathfrak{c} + (b') \)
  真包含 \( \mathfrak{c} \), 因此它们不落于 \( \Sigma \) 中. 因此 \( \mathfrak{c}
  + (b) \) 和 \( \mathfrak{c} + (b') \) 各包含 \( S \)
  中的一个元素, 我们分别记其为
  \[
    f = c + ab,\quad c \in \mathfrak{c},\quad a' \in A \text{ 以及 } f' = c' +
    a'b,\quad c' \in \mathfrak{c},\quad a' \in A
  \]
  因此
  \[
    f f' = c c' + abc' + a'b'c + aa'bb' \in \mathfrak{c},
  \]
  这与 \( f f' \in S \) 矛盾. 也就是 \( b \) 或 \( b' \) 有一个落于 \(
  \mathfrak{c} \) 中, 这正是素理想的定义.
\end{proof}

\subsection{根式理想}

环的元素 \( f \) 称为\emph{幂零}, 如果 \( f^r = 0 \) 对一些 \( r \geq 1 \) 成立.
一个环称为\emph{约化的}, 如果它有没有非零的幂零元. 环 \( A \) 理想 \(
\mathfrak{a} \) 的\emph{根} \( \operatorname{rad}(\mathfrak{a}) \)是一个理想,
使得
\[
  \left\lbrace f \in A : f^r \in \mathfrak{a}, \text{对某个} r \geq 1
  \text{成立} \right\rbrace.
\]
一个理想 \( \mathfrak{a} \) 称为 \emph{根式的}, 如果 \(
\operatorname{rad}(\mathfrak{a}) = \mathfrak{a} \). 特别地, \( (0) \) 的根称为
\( A \) 的 \emph{幂零根}.

\begin{proposition}
  假设 \( \mathfrak{a} \) 是环 \( A \) 的一个理想.
  \begin{enumerate}
    \item \( \operatorname{rad}(A) \) 亦是 \( A \) 的一个理想.
    \item \( \operatorname{rad}(\operatorname{rad}(\mathfrak{a})) =
      \operatorname{rad}(\mathfrak{a}) \).
  \end{enumerate}
\end{proposition}

\begin{proposition}
  \( \mathfrak{a} \) 的根式理想等于所有包含 \( \mathfrak{a} \) 的素理想的交
  \[
    \operatorname{rad}(\mathfrak{a}) = \bigcap_{\mathfrak{p}\supseteq a}
    \mathfrak{p}.
  \]
  特别地, \( \operatorname{rad}(0) = \bigcap \mathfrak{p} \).
\end{proposition}
\begin{proof}
  \( \subseteq \) 依素理想的定义. \( \supseteq \) 是因为如果 \( x \) 满足 \(
  \left\lbrace 1, x, x^2, \ldots \right\rbrace \notin \mathfrak{a} \),
  \cref{proposition-prime-not-intersect-multiplicative-set} 告诉我们,
  总存在素理想 \(  \mathfrak{p} \), 使得 \( x \notin \mathfrak{p} \).
\end{proof}

\subsection{Jacobson 根}

环 \( A \) 的 \emph{Jacobson 根} 是 \( A \) 所有极大理想的交
\[
  \mathfrak{J} = \bigcap \left\lbrace \mathfrak{m}: \mathfrak{m} \text{ 为 } A
  \text{的极大理想} \right\rbrace.
\]
如果 \( A \) 只有一个极大理想, 那么环 \( A \) 称为是 \emph{局部} 的

\begin{proposition}
  一个元素 \( c \) 落于 \( A \) 的 Jacobson 根中当且仅当对所有 \( a \in A \), \(
  1 - ac \) 是单位.
\end{proposition}
\begin{proof}
  \( \impliedby \) 如果 \( c \) 不落于 \( A \) 的 Jacobson 根中,
  那么存在极大理想 \( \mathfrak{m} \) 使得 \( c \notin \mathfrak{m} \). 因此 \(
  (c) + \mathfrak{m} = A \), 也就是存在 \( a \in A, m \in \mathfrak{m} \) 使得
  \( ac + m = 1 \), 显然 \( 1 - ac \) 不是单位.  \( \implies \)
  几乎是上面的逻辑反过来.
\end{proof}

\begin{proposition}[素避]
  假设 \( \mathfrak{p}_1, \ldots, \mathfrak{p}_r, r \geq 1 \) 为 \( A \) 的理想,
  其中 \( \mathfrak{p}_2, \ldots, \mathfrak{p}_r \) 为素理想. 如果理想 \(
  \mathfrak{a} \) 不包含在任何一个 \( \mathfrak{p}_i \), 那么 \( \mathfrak{a} \)
  不包含在 \( \mathfrak{p}_i \) 的并中.
\end{proposition}
\begin{proof}
  数学归纳法. \( r = 1 \) 时结论显然. 假设 \( r > 1 \) 且 \( \mathfrak{a}
  \subseteq \bigcup_{1 \leq j \leq r} \mathfrak{p}_j \), 但对任意 \( i \), \(
  \mathfrak{a} \not\subseteq \bigcup_{j \neq i}\mathfrak{p}_j \). 由假设知道,
  存在 \( a_i \in \mathfrak{a} \setminus \bigcup_{j \neq i} \mathfrak{p}_j \),
  那么 \( a_i \in \mathfrak{p}_i \). 考察
  \[
    a = a_1 \cdots a_{r - 1} + a_r \in \mathfrak{a}.
  \]
  因为 \( \mathfrak{p}_r \) 素, \( a_1 \cdots a_{r - 1} \notin \mathfrak{p}_r
  \). 而 \( a_{r} \in \mathfrak{p}_r \), 故 \( a \notin \mathfrak{p}_r \).
  对 \( i \leq r - 1 \), 则 \( a_1 \cdots a_{r - 1} \in \mathfrak{p}_{i} \), 但
  \( a_r \in \mathfrak{p}_i \), 从而 \( a \notin \mathfrak{p}_i \). 这与 \( a
  \subseteq \cup_{1 \leq j \leq r} \mathfrak{p}_j \) 矛盾. 因此 \( \mathfrak{a}
  \subseteq \cup_{j \neq i} \mathfrak{p}_j \) 对某个 \( i \) 成立,
  由归纳我们得到想要的结论.
\end{proof}
%TODO: 和不可约的关系?

\section{理想的扩张与收缩}

假设 \( \varphi: A \to B \) 是一个环同态.
\begin{itemize}
  \item 对 \( B \) 的理想 \( \mathfrak{b} \), \( \varphi^{-1}(\mathfrak{b}) \)
    是\( A \) 的理想, 称为 \( \mathfrak{b} \) 在 \( A\) 上的 \emph{收缩},
    其经常记作 \( \mathfrak{b}^{c} \).
  \item 对于 \( A \) 的理想 \( \mathfrak{a} \), \( B \) 中由 \(
    \varphi(\mathfrak{a}) \) 生成的理想, 称为 \( \mathfrak{a} \) 在 \( B \) 中的
    \emph{扩张}, 其经常记作 \( \mathfrak{a}^{e} \).
\end{itemize}
特别地, 如果 \( \varphi \) 是一个满射 \( \varphi(\mathfrak{a}) \)
已经是一个理想; 如果 \( A \) 是 \( b \) 的子环, 那么 \( \mathfrak{b}^{c} =
\mathfrak{b} \cap A \).

\begin{proposition}
  假设\( \mathfrak{a}, \mathfrak{a}' \) 为 \( A \) 的理想, \( \mathfrak{b},
  \mathfrak{b}' \) 为 \( B \) 的理想
  \begin{enumerate}
    \item 我们有下面关系
      \[
        (\mathfrak{a} + \mathfrak{a}')^{e} = \mathfrak{a}^e +
        \mathfrak{a}'^e,\quad (\mathfrak{a} \mathfrak{a}')^e = \mathfrak{a}^e
        \mathfrak{a}'^{e},\quad (\mathfrak{b} \cap \mathfrak{b}')^c =
        \mathfrak{b}^c \cap \mathfrak{b}'^c,\quad
        \operatorname{rad}(\mathfrak{b})^c = \operatorname{rad}(\mathfrak{b}^c).
      \]
    \item \( \mathfrak{a} \subseteq \mathfrak{a}^{ec} \) 且 \( \mathfrak{b}^{ce}
      \subseteq \mathfrak{b} \). 特别地, \( \mathfrak{a}^{e} \subseteq
      \mathfrak{a}^{ece} \) 以及 \( \mathfrak{b}^{cec} = \mathfrak{b}^c \),
      从而我们有双射
      \[
        \left\lbrace \mathfrak{b}^c \subseteq A: \mathfrak{b} \text{为}B
        \text{的理想} \right\rbrace \xleftrightarrow[\mathfrak{b}^c \mapsfrom
        \mathfrak{b}]{\mathfrak{a} \mapsto \mathfrak{a}^e} \left\lbrace
        \mathfrak{a}^e \subseteq B: \mathfrak{a} \text{是} A \text{中的理想}
        \right\rbrace
      \]
  \end{enumerate}
\end{proposition}

\section{中国剩余定理}

\( A \) 的两个理想 \( \mathfrak{a} \) 和 \( \mathfrak{b} \) 是 \emph{互素} 的, 如果 \(
\mathfrak{a} + \mathfrak{b} = A \).
\begin{proposition}
  如果 \( \mathfrak{a}_1,\ldots, \mathfrak{a}_n \) 互素, 那么 \( \bigcap
  \mathfrak{a}_i = \prod \mathfrak{a}_i \).
\end{proposition}
\begin{proof}
  \( \supseteq \) 与互素无关, 证明仅需利用理想的定义. 对于 \( \subseteq \),
  由归纳法, 只需证明 \( n = 2 \) 的情况就足够了. 由假设可以找到 \( a_1 \in
  \mathfrak{a}_1 \) 以及 \( a_2 \in \mathfrak{a}_2 \) 使得 \( a_1 + a_2 = 1 \).
  如果 \( a \in \mathfrak{a}_1 \cap \mathfrak{a}_2 \), 那么 \( a = (a_1 + a_2)a
  \in \mathfrak{a}_1 \mathfrak{a}_2 \).
\end{proof}

\begin{theorem}[中国剩余定理]
  假设 \( \mathfrak{a}_1, \ldots, \mathfrak{a}_n \) 是环 \( A \) 的理想. 并且在
  \( i \neq j \) 时,  \( \mathfrak{a}_i \) 和 \( \mathfrak{a}_j \) 互素,
  那么映射
  \[
    a \mapsto (\ldots, a + \mathfrak{a}_i, \ldots):\quad A \to A /
    \mathfrak{a}_1 \times \cdots \times A / \mathfrak{a}_n
  \]
  是满射, 且其核为 \( \prod \mathfrak{a}_i = \bigcap \mathfrak{a}_i \).
\end{theorem}
\begin{proof}
  假设 \( n = 2 \). 因为 \( \mathfrak{a}_1 + \mathfrak{a}_2 = A \), 存在 \( a_i
  \in \mathfrak{a}_i \) 使得 \( a_1 + a_2 = 1 \). 对任意 \( x_1, x_2 \in A \),
  \( a_1 x_2 + a_2 x_1 \) 映射到 \( (x_1 \mod{\mathfrak{a}_1}, x_2
  \mod{\mathfrak{a}_2}) \), 所以此映射是满射. 其核显然是 \( \mathfrak{a}_1 \cap
  \mathfrak{a}_2 \).

  现假设 \( n > 2 \), 对于 \( i \geq 2 \), 存在 \( a_i \in \mathfrak{a}_1 \)
  以及 \( b_i \in \mathfrak{a}_i \) 使得
  \[
    a_i + b_i = 1.
  \]
  积 \( \prod_{i \geq 2}(a_i + b_i) = 1 \) 落于 \( \mathfrak{a}_1 +
  \mathfrak{a}_2 \cdots \mathfrak{a}_n \) 中, 换句话说
  \[
    \mathfrak{a}_1 + \mathfrak{a}_2\cdots \mathfrak{a}_n = A.
  \]
  因此,
  \begin{align*}
    A / \mathfrak{a}_1 \cdots \mathfrak{a}_n &= A / \mathfrak{a}_1 \cdot
    (\mathfrak{a}_2 \cdots \mathfrak{a}_n)\\ &\simeq A / \mathfrak{a}_1 \times A
    / \mathfrak{a}_2 \cdots \mathfrak{a}_n\\ &\simeq A/ \mathfrak{a}_1 \times A
    / \mathfrak{a}_2 \times \cdots \times A / \mathfrak{a}_n,
  \end{align*}
  其中, 最后一个同构由归纳法保证.
\end{proof}

\section{Noetherian 环与 Noetherian 模}

\begin{proposition}
  \label{proposition-Noetherian-ring-iff-condition}
  给定一个环 \( A \), 下面条件等价
  \begin{enumerate}
    \item \( A \) 的每个理想都是有限生成的.
    \item \( A \) 的每个理想上升链 \( \mathfrak{a}_1 \subseteq \mathfrak{a}_2 \subseteq
      \cdots \) 都将终止, 也就是存在 \( m \) 使得
      \[
        \mathfrak{a}_m = \mathfrak{a}_{m + 1} = \cdots.
      \]
    \item \( A \) 的任何非空的理想集都存在一个极大元.
  \end{enumerate}
\end{proposition}
\begin{proof}
  (i) \( \implies \) (ii)
  如果 \( \mathfrak{a}_1 \subseteq \mathfrak{a}_2 \subseteq \cdots \)
  是一个上升链, 那么 \( \mathfrak{a} = \bigcup \mathfrak{a}_i \) 是一个理想.
  它由有限个生成元, 记为 \( a_1, \ldots, a_n \). 因此, 总有一个 \( m \) 使得所有
  \( a_i \in \mathfrak{a}_m \) 成立, 因此
  \[
    \mathfrak{a}_m = \mathfrak{a}_{m + 1} = \cdots = \mathfrak{a}.
  \]

  (ii) \( \implies \) (iii) 如果 \( \Sigma \) 没有极大元, 那么由
  \href{https://en.wikipedia.org/wiki/Axiom_of_choice}{选择公理},
  能找到一个无穷的上升链, 矛盾.

  (iii) \( \implies \) (i) 假设 \( \mathfrak{a} \) 是 \( A \) 的任意一个理想.
  考察所有包含于 \( \mathfrak{a} \) 的有限生成理想组成的集族 \( \Sigma \).
  由假设, \( \Sigma \) 有一个极大元 \( \mathfrak{m} \), 如果 \( \mathfrak{a}
  \neq \mathfrak{m} \), 那么存在 \( x \in \mathfrak{a} \) 但 \( x \notin
  \mathfrak{m} \), 进而 \( \mathfrak{m} \subsetneq \left( x,
  \mathfrak{m} \right) \) 与极大性矛盾. 因此 \( \mathfrak{a} = \mathfrak{m} \)
  有限生成.
\end{proof}

一个环 \( A \) 称为是 \emph{noetherian 的}, 如果其满足
\cref{proposition-Noetherian-ring-iff-condition} 中的等价条件. 譬如说,
主理想整环和域是 noetherian 的. noetherian 环的商自然是 noetherian 环.

\begin{proposition}
  \label{proposition-Noetherian-module-iff-condition}
  假设 \( A \) 是一个环. 那么下面条件对 \( A \)-模 \( M \) 是等价的
  \begin{enumerate}
    \item 每个 \( M \) 的子模是有限生成的.
    \item 每个 \( M \) 的子模上升链是终止的.
    \item 每个 \( M \) 的非空子模集族有极大元.
  \end{enumerate}
\end{proposition}

一个 \( A \)-模 \( M \) 是 \emph{noetherian} 的, 如果其满足
\cref{proposition-Noetherian-module-iff-condition} 中的等价条件.

\subsection{Noetherian 模的基本性质}

\begin{proposition}
  \label{proposition-exact-sequence-noetherian-module}
  假设 \( A \) 是一个环且
  \[
    0 \to M' \xrightarrow{\alpha} M \xrightarrow{\beta} M'' \to 0
  \]
  是一个 \( A \)-模正合列. 那么
  \begin{enumerate}
    \item 如果 \( N \subseteq P \) 是 \( M \) 的子模, 使得 \( \alpha(M') \cap N
      = \alpha(M') \cap P \) 且 \( \beta(N) = \beta(P) \), 那么 \( N = P \).
    \item 如果 \( M' \) 和 \( M'' \) 都是有限生成的, 那么 \( M \)
      亦是有限生成的.
    \item \( M \) 是 noetherian 的当且仅当 \( M' \) 和 \( M'' \) 都是 noetherian
      的.
  \end{enumerate}
  特别地, \( M_1 \oplus M_2 \) noetherian 当且仅当 \( M_1 \) 和 \( M_2 \) 都
  noetherian.
\end{proposition}
\begin{proof}
  (i) 假设 \( p \in P \). 那么由假设, 存在 \( n \in N \) 使得 \( \beta(n) =
  \beta(p) \), 所以 \( p - n = \operatorname{ker} p = \operatorname{im} \alpha
  \). 而 \( p - n \in P \), 又由条件 \( p - n \in N \). 因此 \( p = (p - n) + n
  \in N \).

  (ii) 假设 \( S' \) 为 \( M' \) 的有限生成元集,
  \( S'' \) 为 \( M \) 中的有限有限元素, 使得 \( \beta (S'') \) 为 \( M'' \)
  的有限生成元集.
  考察 \( \alpha(S') \cup S'' \) 生成的子模 \( N \), 令 \( P = M \), \( N \) 和
  \( P \) 满足 (1) 所说的, 因此它们相等.

  (iii) \( \implies \) 如果 \( M \) 是 noetherian 的, 那么 \( M' \) 中的子模链
  \( \mathfrak{a}_1 \subseteq \mathfrak{a}_2 \subseteq \cdots \) 通过单射 \(
  \alpha \) 映到 \( M \) 终止, 其本身终止; \( M'' \) 中的子模链 \(
  \mathfrak{a}_1 \subseteq \mathfrak{a}_2 \subseteq \cdots \) 的逆链 \(
  \beta^{-1}(\mathfrak{a}_1) \subseteq \beta^{-1}(\mathfrak{a}_2) \subseteq
  \cdots \) 亦是 \( M \) 的子模链, 遂终止. \( \impliedby \) 考虑 \( M \)
  的子模链 \( \mathfrak{a}_1 \subseteq \mathfrak{a}_2 \subseteq \cdots \) 其通过
  \( \beta \) 映到终止的 \( M'' \) 子模链. 而将 \( \alpha(M') \cap
  \mathfrak{a}_1 \subseteq \alpha(M') \cap \mathfrak{a}_2 \subseteq \cdots \)
  视为 \( M' \) 中的子链(或取逆链), 知道其终止. 再次利用(i),
  我们就能得到我们想要的.
\end{proof}

\begin{proposition}
  \label{proposition-finite-generated-module-over-noetherian-ring}
  每个 noetherian 环 \( A \) 上的有限生成模 \( M \) 是 noetherian 的.
\end{proposition}
\begin{proof}
  我们对 \( M \) 的极小生成元个数 \( n \) 进行归纳. 当 \( n = 1 \) 时, \( M
  \simeq A / \mathfrak{a} \) 其中 \( \mathfrak{a} \) 为 \( A \) 的理想,
  我们前面说过这是 noetherian 的. 当 \( n > 1 \) 时, \( M = \left\langle a_1,
  \ldots, a_n \right\rangle \) 有一个子模 \( N = \left\langle a_1, \ldots, a_{n
  - 1} \right\rangle \). 考察 \( 0 \to N \to M \to M / N \to 0 \) 并利用
  \cref{proposition-exact-sequence-noetherian-module} 与归纳假设即能得到结果.
\end{proof}

假设 \( M \) 是一个 noetherian 环 \( A \) 上的有限生成模. 给定 \( x \in M \),
我们称 \( A \) 的理想
\[
  \operatorname{ann}(x) = \left\lbrace a \in A: ax = 0 \right\rbrace
\]
为 \( x \) 的\emph{零化子}.

\begin{lemma}
  假设 \( M \) 是一个 noetherian 环 \( A \) 上的有限生成模. \( \left\lbrace
  \operatorname{ann}(x) : x \in M \right\rbrace \) 的极大元是素理想.
\end{lemma}
\begin{proof}
  \( A \) noetherian, 故理想集族有极大元. 如果 \( ab \in
  \mathfrak{a} \), 那么 \( abx = 0 \), 只能 \( ax = 0 \) 或 \( bx = 0 \), 否则
  有 \( \operatorname{ann}(x) \subsetneq \operatorname{ann}(ax) \),
  这与极大性矛盾.
\end{proof}

\begin{proposition}
  Noetherian 环 \( A \) 上的有限生成模 \( M \) 有一个有限子模链
  \[
    M \supseteq M_r \supseteq \cdots \supseteq M_1 \supseteq 0
  \]
  使得每个商 \( M_i / M_{i - 1} \) 同构于 \( A / \mathfrak{p}_i \), 其中 \(
  \mathfrak{p}_i \) 为一些素理想.
\end{proposition}
\begin{proof}
  对每个 \( x \in M \), \( M \) 的子模 \( Ax \) 同构于 \( A /
  \operatorname{ann}(x) \). 如果 \( M \) 非零, 那么存在 \( x_1 \) 使得 \(
  \operatorname{ann}(x) \) 为素理想. 令 \( Ax = M_1 \), 这时 \( M_1 = A /
  \operatorname{ann}(x_1) \).

  如果 \( M \neq M_1 \), 我们可以对 \( M / M_1 \) 作相同的讨论, 知道存在 \( x_2
  + M_1 \) 使得 \( \operatorname{ann}(x_2 + M_1) \) 是素的, 且有子模 \( M_2 \)
  使得 \( M_2 / M_1 = A / \operatorname{ann}(x_2 + M_1) \). 如果 \( M_2 / M_1
  \neq M / M_1 \), 那么考察 \( \frac{M / M_1}{M_2 / M_1} \simeq M / M_2, \ldots \)

  我们能够得到一个上升子模链 \( 0 \subseteq M_1 \subseteq M_2 \subseteq \cdots
  \), 使得 \( M_{i -  1} \subsetneq M_{i} \), 且 \( M_{i} / M_{i - 1} \simeq A /
  \mathfrak{p}_{i} \), 其中 \( \mathfrak{p}_i \) 是一些素理想.
  \cref{proposition-finite-generated-module-over-noetherian-ring} 告诉我们, \( M
  \) 是 noetherian 的, 因此这个链有限. 上面的构造在 \( M_n \neq M \)
  时总能继续进行, 因此此链只能终止在 \( M \).
\end{proof}

\subsection{Hilbert 基定理}

\begin{theorem}[Hilbert基]
  每个 noetherian 环上的有限生成代数 noetherian.
\end{theorem}

\begin{corollary}
  如果环 \( A \) notherian, 每个有限生成 \( A \)-代数有限表现.
\end{corollary}
\begin{proof}
  每个有限生成 \( A \)-代数 \( B \) 形如 \( A[X_1, \ldots, X_n] / \mathfrak{a}
  \), \( \mathfrak{a} \) 作为 \( A[X_1, \ldots, X_n] \) 的理想有限生成.
\end{proof}

\section{Nakayama 引理}

\begin{theorem}[Nakayama引理]
  \label{theorem-Nakayama-lemma}
  假设 \( A \) 是一个环, \( \mathfrak{a} \) 是 \( A \) 的理想, \( M \) 是一个 \(
  A\)-模. 如果 \( \mathfrak{a} \) 包含于所有 \( A \) 的极大理想中, 且 \( M \)
  有限生成, 那么
  \begin{enumerate}
    \item 如果 \( M = \mathfrak{a} M \), 那么 \( M = 0 \).
    \item 如果 \( N \) 是 \( M \) 的子模, 使得 \( M = N + \mathfrak{a} M \),
      那么 \( M = N \).
  \end{enumerate}
\end{theorem}
\begin{proof}
  (i) 如果 \( M \neq 0 \), 由有限生成性可以取一族 \( M \) 数量最少的生成元 \(
  \left\lbrace e_1, \ldots, e_n \right\rbrace, n \geq 1 \), 记
  \[
    e_1 = a_1 e_1 + \cdots + a_n e_n,\quad a_i \in \mathfrak{a}.
  \]
  那么
  \[
    (1 - a_1) e_1 = a_2 e_2 + \cdots + a_n e_n.
  \]
  \( \mathfrak{a} \) 包含于 \( A \) 的 Jacobson 根中, 从而 \( 1 - a_1 \) 可逆.
  因此 \( e_2, \ldots, e_n \) 生成 \( M_2 \), 与选取矛盾. (ii) 取商, 利用 (i)
  立刻得到结果.
\end{proof}

\begin{corollary}
  假设 \( A \) 是一个 noetherian 局部环, 其极大理想为 \( \mathfrak{m} \). \(
  \mathfrak{m} \) 元素 \( a_1, \ldots, a_n \) 生成 \( \mathfrak{m} \) 当且仅当
  \( a_1 + \mathfrak{m}^2,\ldots, a_n + \mathfrak{m}^{2} \) 为 \( A /
  \mathfrak{m} \)-线性空间 \( \mathfrak{m} / \mathfrak{m}^2 \) 的一组基. 特别地,
  \( \mathfrak{m} \) 生成元集最小数等于 \( \mathfrak{m} / \mathfrak{m}^2 \)
  维数.
\end{corollary}
\begin{proof}
  考虑 \cref{theorem-Nakayama-lemma}, 令 \( M = \mathfrak{a} = \mathfrak{m},
  N = \left\langle a_1, \ldots, a_n \right\rangle \).
\end{proof}

\section{Krull 维数}

假设 \( A \) 是一个 noetherian 环.
\begin{enumerate}
  \item 给定 \( A \) 的一个素理想 \( \mathfrak{p} \). \( \mathfrak{p} \)
    的\emph{高度 \( \operatorname{ht}(\mathfrak{p}) \)} 定义为最大的长度 \( d \)
    使得互不相同的素理想降链存在
    \[
      \mathfrak{p} = \mathfrak{p}_d \supseteq \mathfrak{p}_{d - 1} \supseteq
      \cdots \supseteq \mathfrak{p}_0.
    \]
  \item \( A \) 的 \emph{Krull 维数} 定义为
    \[
      \sup \left\lbrace \operatorname{ht}(\mathfrak{p}): \mathfrak{p} \subseteq
      A, \text{其中} \mathfrak{p} \text{素} \right\rbrace.
    \]
\end{enumerate}

如果 \( A \) 是一个整环, 那么
\[
  \operatorname{dim} (A) = 0 \iff (0) \text{极大} \iff A \text{是一个域}.
\]
\begin{lemma}
  每个有限生成理想的生成元集包含一个有限的生成元集.
\end{lemma}
\begin{proof}
  令 \( S \) 为理想 \( \mathfrak{a} \) 的一个生成元集, \( \mathfrak{a} \)
  由有限集 \( \left\lbrace a_1, \ldots, a_n \right\rbrace \) 生成. 那么 \( a_i
  \) 有 \( S \) 的有限子集 \( S_i \) 生成. 考察 \( \bigcup S_i \) 即可.
\end{proof}

\begin{theorem}[Krull 交定理]
  假设 \( \mathfrak{a} \) 是 noetherian 环 \( A \) 的一个理想. 如果 \(
  \mathfrak{a} \) 包含于所有 \( A \) 的极大理想, 那么
  \[
    \bigcap_{n \geq 1} \mathfrak{a}^n = \left\lbrace 0 \right\rbrace.
  \]
\end{theorem}

\begin{proposition}
  在 noetherian 环中, 每个理想都包含其根的一个幂; 特别地, 幂零根的某个幂就是零.
\end{proposition}
\begin{proof}
  假设 \( a_1, \ldots, a_n \) 生成 \( \operatorname{rad}(\mathfrak{a}) \).
  对每个 \( a_i \) 都存在 \( r_i \) 使得 \( a_i^{r_i} \in \mathfrak{a} \).
  考察 \( r_1 + r_2 + \cdots + r_n \) 即可.
\end{proof}

\section{唯一因子分解整环}

假设 \( A \) 是一个整环. 一个 \( A \) 的元素 \( a \) 
\begin{enumerate}
  \item 称为是 \emph{不可约的},
    如果它非零非单位且没有非平凡分解, 也就是
    \[
      a = bc \implies b \text{或} c \text{是单位}.
    \]
  \item 称为是素的, 如果其非零非单位, 且 \( (a) \) 是素理想, 也就是
    \[
      a \mid bc \implies a \mid b \text{ 或 } a \mid c.
    \]
\end{enumerate}
一个整环 \( A \) 称为是 \emph{唯一因子分解整环} 如果每个 \( A \)
的每个非零非单位元 \( a \) 都可以写成有限个不可约元素的乘积, 并且,
差乘上一个单位的意义上唯一.

\begin{proposition}
  假设 \( A \) 是一个整环, \( a \) 是 \( A \) 的一个非零非单位元. 如果 \( a \)
  素, 那么 \( a \) 不可约; 如果 \( A \) 是唯一因子分解整环, 那么反过来亦成立.
\end{proposition}
\begin{proof}
  假设 \( a \) 素且 \( a = bc \). 如果有 \( q \) 使得 \( b = aq \), 那么 \( a =
  aqc \), 从而 \( c \) 是单位.

  如果 \( a \) 不可约, \( a | bc \), \( A \) 是唯一因子分解整环. 那么有 \( q \)
  使得 \( bc = aq \), 两边都写成不可约元的乘积立刻得到结果.
\end{proof}

\begin{corollary}
  假设 \( A \) 是一个整环. 如果 \( A \) 是一个唯一因子分解整环, 那么 \( A \)
  的每个高度为 \( 1 \) 的素理想是主理想.
  反过来对 noetherian 整环是正确的.
\end{corollary}
%TODO: 补全反过来的证明
\begin{remark}
  \textbf{并非} 所有唯一因子分解整环都是 noetherian 的, 见
  \href{https://math.stackexchange.com/questions/254226/does-ufd-imply-noetherian}{stackexchange}.
\end{remark}

\begin{proposition}
  假设 \( A \) 是一个整环. 如果
  \begin{itemize}
    \item \( A \) 的每个非零非单位元都是不可约元的有限乘积;
    \item \( A \) 的每个每个不可约元都是素的;
  \end{itemize}
  那么 \( A \) 是一个唯一因子分解整环.
\end{proposition}
\begin{proof}
  假设 \( a_1 \cdots a_m = b_1 \cdots b_n \) 为 \( a \) 的两个不可约分解,
  由假设给的素性, 某个 \( b_i \) 被 \( a_1 \) 整除, 不妨记为 \( b_1 \), 从而有
  \( u \) 使得 \( b_1 = a_1 u \). 因此
  \[
    a_2 \cdots a_m = (ub_2)b_3 \cdots b_n.
  \]
  一直这样下去即可得到结论.
\end{proof}

\begin{proposition}
  如果整环 \( A \) 的每个主理想上升链都终止, 那么 \( A \)
  的每个非零非单位元都有有限的不可约分解.
\end{proposition}

\subsection{Gauss 引理}

\begin{proposition}
  假设 \( A \) 是一个唯一因子分解整环, 其分式域为 \( F \). 如果 \( A[X] \)
  的一个多项式 \( f \) 能在 \( F[X] \) 中分解为两个非常多项式的乘积,
  那么它本身就在 \( A[X] \) 中就能分解为两个非常多项式的乘积.
\end{proposition}
\begin{proof}
  假设 \( f = gh \in F[X] \). 我们能够找到 \( c, d \in A  \) 使得 \( g_1 = cg \)
  与 \( h_1 = dh \) 系数落于 \( A \) 中, 因此我们在 \( A[X] \) 中有分解
  \[
    cd f = g_1 h_1 \in A[X].
  \]
  如果 \( A \) 的不可约元 \( p \) 整除 \( cd \), 那么
  \[
    0 = \overline{g_1} \cdot \overline{h_1} \in (A / (p))[X].
  \]
  因为\( p \) 不可约, \( A \) 为唯一因子分解整环, \( p \) 素, 所以 \( (A /
  (p))[X] \) 是一个整环. 因此 \( p \) 要么整除 \( g_1 \) 的所有系数, 要么整除 \(
  g_2 \) 的所有系数, 不妨设前者. 于是我们能够找到 \( g_2 \in A[X] \) 使得 \( g_1
  = pg_2 \). 又有分解
  \[
    (cd / p)f = g_2 h_1 \in A[X].
  \]
  这样一直下去, 我们能把 \( cd \) 的所有不可约元除去.
\end{proof}

假设 \( A \) 是一个唯一因子分解整环. 一个非零多项式
\[
  f = a_0 + a_1 X + \cdots + a_m X^m \in A[X]
\]
称为是 \emph{本原} 的, 如果 \( a_i \) 没有非单位的公因子.
\( f \) 系数的最大公因子称为 \( f \) 的 \emph{容量}, 记作 \( c(f) \).

\begin{proposition}
  如果 \( A \) 是一个唯一因子分解整环, 那么 \( A[X] \)
  中两个本原多项式的还是本原的.
\end{proposition}

\begin{proposition}
  假设 \( A \) 是一个唯一因子分解整环, \( f, g \in F[X] \), 那么
  \[
    c(fg) = c(f) \cdot c(g).
  \]
\end{proposition}

\begin{corollary}
  \( A[X] \) 中的不可约元由  \( A \) 中的不可约元和 \( A[X] \)
  的在 \( F[X] \) 不可约的非常本原多项式组成.
\end{corollary}

\begin{theorem}
  如果 \( A \) 是一个唯一因子分解整环, 那么 \( A[X] \) 亦是.
\end{theorem}
\begin{proof}
  归纳法, 分别考虑 \( f = c(f) f_1 \) 中的 \( c(f) \) 和 \( f_1 \).
\end{proof}

假设 \( k \) 是一个域. \( X_1, \ldots, X_n \) 中的一个单项式是形如
\[
  X_1^{a_1} \cdots X_n^{a_n},\quad a_j \in \mathbb{N}
\]
的表达式. 上面这个单项式的 \emph{总次数} 是 \( \sum a_i \).

\begin{theorem}
  环 \( k[X_1, \ldots, X_n] \) 是唯一因子分解整环.
\end{theorem}

\begin{corollary}
  一个 \( k[X_1, \ldots, X_n] \) 的非零真理想 \( (f) \) 是素理想当且仅当 \( f \)
  不可约.
\end{corollary}

\section{分式环}

假设 \( S \) 是环 \( A \) 的一个乘性子集. 定义 \( A \times S \) 的一个等价关系
\[
  (a, s) \sim (b, t) \iff \text{存在} u \in S, \text{使得} u(at - bs) = 0.
\]
可以验证, 这确实是一个等价关系, 我们将其中代表元 \( (a, s) \) 记作 \(
\frac{a}{s} \), 那么我们得到了一个环
\[
  S^{-1}A = \left\lbrace \frac{a}{s}: a \in A, s \in S \right\rbrace
\]
以及一个环同态 \( i_S: A \to S^{-1} A, a \mapsto \frac{a}{1} \), 其核为
\[
  \left\lbrace a \in A: \text{存在} s \in S, \text{使得} sa = 0 \right\rbrace.
\]
因此, 如果 \( S \) 没有零除子当且仅当 \( i_S \) 就是单射. 并且, 如果 \( 0 \in S
\), 那么 \( S^{-1} A = 0 \).

\begin{proposition}
  局部化 \( (S^{-1}A, i_S) \) 具有下述泛性质: 每个 \( S \) 中的元素映到 \(
  S^{-1} A \) 中的单位, 并且每个将 \( S \) 映到单位的环同态 \( \alpha: A \to B
  \) 能通过 \( i_S \) 唯一分解.
  % https://q.uiver.app/#q=WzAsMyxbMCwwLCJBIl0sWzEsMCwiU157LTF9QSJdLFsxLDEsIkIiXSxbMCwyLCJcXGFscGhhIiwyXSxbMSwyLCJcXGV4aXN0cyAhIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzAsMSwiaV9TIl1d
\[\begin{tikzcd}
	A & {S^{-1}A} \\
	& B
	\arrow["{i_S}", from=1-1, to=1-2]
	\arrow["\alpha"', from=1-1, to=2-2]
	\arrow["{\exists !}", dashed, from=1-2, to=2-2]
\end{tikzcd}\]
特别地, 局部化是同构意义下唯一的.
\end{proposition}
